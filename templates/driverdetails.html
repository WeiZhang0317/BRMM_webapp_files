{% extends "base.html" %}
{% block content %}
<div class="container">
<h2 class="display-5">Driver's run details</h2>

<form action="{{ url_for('driverdetails') }}" method="POST">
  <p>

      <label>Select a Driver:</label>
      <select class="form-select form-select-lg mb-3" aria-label="Large select example" name="driver_name" id="driver_name">
          <option>&lt; Select driver's name &gt;</option>
          {% for driver in driver_names %}
              <option>{{ driver }}</option>
          {% endfor %}
      </select>


      <button type="submit" class="btn btn-primary mb-3">View Driver Details</button>
     
      <button type="submit" class="btn btn-primary mb-3" name="return" value="1">Return</button>
  </p>
</form>

{% if selected_driver %}
  <h5>Driver ID: {{ driver_list[0]['driver_id'] }}</h5>
  <h5>Driver Name: {{ driver_list[0]['driver_name'] }}</h5>
  <h5>Car Model: {{ driver_list[0]['car_model'] }}</h5>
  <h5>Drive Class: {{ driver_list[0]['drive_class'] }}</h5>
 <!-- to show the above only once It can choose any index to display the driver's header information because this information is consistent across all driving records.
   In my code use the first entry i.e. index [0] to get such information-->

<table class="table table-striped table-bordered">
  <tr>
    <th>CourseName</th>
    <th>RunNumber</th>
    <th>Seconds</th>
    <th>Cones</th>
    <th>WD</th>
    <th>RunTotal</th>

  </tr>
  {% for driver in driver_list %}

      <tr>
        <td>{{ driver['course_name'] }}</td>
        <td>{{ driver['run_number'] }}</td>
        <td>{{ driver['seconds'] }}</td>
        <td>{{ driver['cones'] }}</td>
        <td>{{ driver['wd'] }}</td>
        <td>{{ driver['run_total'] }}</td>
  
      </tr>
  {% endfor %}
</table>
</div>
{% endif %}

{% endblock %}