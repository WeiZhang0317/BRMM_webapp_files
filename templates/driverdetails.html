{% extends "base.html" %}
{% block content %}
<div class="container">
<h2 class="display-5">Driver's run details</h2>

<form action="{{ url_for('driverdetails') }}" method="POST">
  <p>

      <label>Select a Driver:</label>
      <select class="form-select form-select-lg mb-3" aria-label="Large select example" name="driver_name" id="driver_name">
          <option>&lt; Select driver's name &gt;</option>
          {% for driver in driver_names %}
              <option>{{ driver }}</option>
          {% endfor %}
      </select>


      <button type="submit" class="btn btn-primary mb-3">View Driver Details</button>
     
      <button type="submit" class="btn btn-primary mb-3" name="return" value="1">Return</button>
  </p>
</form>

{% if selected_driver %}
<table class="table table-striped table-bordered">
  <tr>
    <th>DriverID</th>
    <th>DriverName</th>
    <th>CourseName</th>
    <th>RunNumber</th>
    <th>Seconds</th>
    <th>Cones</th>
    <th>WD</th>
    <th>RunTotal</th>
    <th>CarModel</th>
    <th>DriveClass</th>
  </tr>
  {% for driver in driver_list %}
      <tr>
        <td>{{ driver['driver_id'] }}</td>
        <td>{{ driver['driver_name'] }}</td>
        <td>{{ driver['course_name'] }}</td>
        <td>{{ driver['run_number'] }}</td>
        <td>{{ driver['seconds'] }}</td>
        <td>{{ driver['cones'] }}</td>
        <td>{{ driver['wd'] }}</td>
        <td>{{ driver['run_total'] }}</td>
        <td>{{ driver['car_model'] }}</td>
        <td>{{ driver['drive_class'] }}</td>
      </tr>
  {% endfor %}
</table>
</div>
{% endif %}

{% endblock %}