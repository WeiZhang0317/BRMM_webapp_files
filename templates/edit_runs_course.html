{% extends "edit_runs.html" %}
{% block content %}
<div class="container">
<h2 class="display-5"> Edit Course's run details</h2>


<form action="{{ url_for('edit_runs_course') }}" method="POST">

    <p>
     
        
        <label>Select a Course:</label>
        <select class="form-select form-select-lg mb-3" aria-label="Large select example"  name="course_name" id="course_name">


            <option>&lt; Select course's name &gt;</option>
            {% for course in course_names %}
                <option>{{ course }}</option>
            {% endfor %}
        </select>
        
        <button class="btn btn-primary mb-3" type="submit" >Search </button>
  
        <button class="btn btn-primary mb-3" type="submit"  name="return" value="1">Return</button>
    </p>
  

    {% if selected_course %}
    <input type="hidden" name="edit" value="true">  
    <table class="table table-striped table-bordered">
      <tr>
          <th>DriverID</th>
          <th>DriverName</th>
          <th>CourseID</th>
          <th>CourseName</th>
          <th>RunNumber</th>
          <th>Seconds</th>
          <th>Cones</th>
          <th>WD</th>
   
      </tr>
      {% for course in course_list %}
          <tr>
              <td>{{ course['driver_id'] }}</td>
              <td>{{ course['driver_name'] }}</td>
              <td>{{ course['course_id'] }}</td>
              <td>{{ course['course_name'] }}</td>
              <td>{{ course['run_number'] }}</td>
               <!-- Input for the number of seconds. It is a number input that requires values between 0 and 1000, allowing decimals. 
    The name of the input field is dynamically created using the driver's ID, course's ID, and run number to ensure it is unique and can be identified when the form is submitted. -->
              <td><input type="number" step="0.01" name="seconds_{{ course['driver_id'] }}_{{ course['course_id'] }}_{{ course['run_number'] }}"  min="0" max="1000" value="{{ course['seconds'] }}"></td>
              <td><input type="number" step="1" name="cones_{{ course['driver_id'] }}_{{ course['course_id'] }}_{{ course['run_number'] }}" min="0" max="255" value="{{ course['cones'] }}"></td>
              <td><input type="number" step="1" name="wd_{{ course['driver_id'] }}_{{ course['course_id'] }}_{{ course['run_number'] }}" min="0" max="255" value="{{ course['wd'] }}"></td>
              
              
          </tr>
      {% endfor %}
    </table>
    <button class="btn btn-primary mb-3" type="submit" >Save Edits</button>
    {% endif %}
  </form>
  <a href="{{ url_for('edit_runs') }}" class="btn btn-primary mb-3">Back to choose edit method</a>
</div>
  {% endblock %}
  




